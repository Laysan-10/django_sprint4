{% extends "base.html" %}
{% block title %}Страница пользователя {{ profile.username }}{% endblock %}

{% block content %}
<div class="profile-container">
  <h1 class="profile-title mb-5 text-center">Страница пользователя {{ profile.username }}</h1>
  
  <div class="profile-info bg-light p-4 rounded mb-4">
    <ul class="list-group list-group-horizontal flex-wrap justify-content-center mb-3">
      <li class="list-group-item text-muted border-0 bg-transparent">Имя пользователя: {% if profile.get_full_name %}{{ profile.get_full_name }}{% else %}не указано{% endif %}</li>
      <li class="list-group-item text-muted border-0 bg-transparent">Регистрация: {{ profile.date_joined }}</li>
      <li class="list-group-item text-muted border-0 bg-transparent">Роль: {% if profile.is_staff %}Админ{% else %}Пользователь{% endif %}</li>
    </ul>
    
    {% if user.is_authenticated and user == profile %}
    <div class="text-center">
      <a href="{% url 'blog:profile_edit' profile.username %}" class="text-success me-3">Редактировать профиль</a>
      <a href="{% url 'password_change' %}" class="btn btn-sm btn-success">Изменить пароль</a>
    </div>
    {% endif %}
  </div>

  <h3 class="text-center mb-5">Публикации пользователя</h3>
  
  {% for post in page_obj %}
  <div class="mb-5">
    <p class="text-muted">Комментариев: ({{ post.comments.count }})</p>
    <article>
      {% include "includes/post_card.html" %}
    </article>
  </div>
  {% endfor %}
  
  {% include "includes/paginator.html" %}
</div>
{% endblock %}